<!--
  blogPost
-->

<div
  ng-attr-id="{{ vm.topId }}">
</div>

<!-- Post title
  I toggle post-body when clicked.
-->
<h2 class="post-title">
  <a
    ng-click="vm.toggleVisibility()">
    {{ props.post.title }}
  </a>
</h2>


<!-- Post meta
  When author_url exists, I link displayName to that URL.
-->
<p class="post-meta">
  Posted by
  <a
    ng-if="props.post.author_url.length > 0"
    ng-href="{{ props.post.author_url }}">
    {{ props.post.author.displayName }}
  </a>
  <span
    ng-if="! props.post.author_url" >
    {{ props.post.author.displayName }}
  </span>
  <!-- https://docs.angularjs.org/api/ng/filter/date -->
  on {{ props.post.published | date:'short' }}

  <a
    ng-href="{{ props.post.url }}">
    <img
      src="https://cdn2.iconfinder.com/data/icons/aquaticus/48%20X%2048/blogger.png"
      alt="ic-blogger"
      class="ic-blogger"
      height="24px"
      width="24px">
  </a>
</p>


<!-- Post body
  Since the Blogger's format includes Unicode and escape sequence, I convert it
  into appropriate HTML format, using custom html filter.
-->
<p
  class="post-body"
  ng-show="vm.isVisible"
  ng-bind-html="props.post.content | htmlFilter">
</p>

<!-- Link to top of this article -->
<a
  ng-show="vm.isVisible"
  ng-click="scrollTo( vm.topId )"
  anchor-hash-link>

  <span class="fa-stack fa-lg">
    <i class="fa fa-square-o fa-stack-2x"></i>
    <i class="fa fa-arrow-up fa-stack-1x"></i>
  </span>
</a>

<!-- Toggle visibility -->
<a
  ng-show="vm.isVisible"
  ng-click="vm.toggleVisibility() ; scrollTo( vm.topId )"
  anchor-hash-link>

  <span class="fa-stack fa-lg">
    <i class="fa fa-square-o fa-stack-2x"></i>
    <i class="fa fa-times fa-stack-1x"></i>
  </span>
</a>
